# Sacred Environment Variables for MCP OAuth Gateway
# Copy this to .env and fill with your actual values

# GitHub OAuth (REQUIRED - NO DEFAULTS!)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# JWT Configuration (REQUIRED!)
# Generate with: just generate-jwt-secret
GATEWAY_JWT_SECRET=your_jwt_secret_key_at_least_32_chars

# RSA Keys for RS256 JWT signing (REQUIRED!)
# Generate with: just generate-rsa-keys
JWT_PRIVATE_KEY_B64=your_base64_encoded_rsa_private_key
JWT_ALGORITHM=RS256

# Domain Configuration (REQUIRED - REAL DOMAINS ONLY!)
BASE_DOMAIN=your-actual-domain.com
ACME_EMAIL=your-email@example.com

# Redis Security (REQUIRED!)
REDIS_PASSWORD=your_redis_password

# Access Control (OPTIONAL BUT RECOMMENDED)
# Comma-separated list of allowed GitHub usernames
ALLOWED_GITHUB_USERS=user1,user2,user3

# Token Lifetimes (REQUIRED - CONFIGURABLE!)
ACCESS_TOKEN_LIFETIME=86400      # 24 hours
REFRESH_TOKEN_LIFETIME=2592000   # 30 days
SESSION_TIMEOUT=3600             # 1 hour
CLIENT_LIFETIME=7776000          # 90 days - clients must re-register after this (set to 0 for eternal clients)

# MCP Protocol Version (REQUIRED!)
MCP_PROTOCOL_VERSION=2025-03-26

# Gateway OAuth Tokens (Generated by just generate-github-token)
GITHUB_PAT=ghp_xxx...
GATEWAY_OAUTH_JWT_TOKEN=eyJhbGc...
GATEWAY_OAUTH_CLIENT_ID=client_xxx...
GATEWAY_OAUTH_CLIENT_SECRET=secret_xxx...
GATEWAY_OAUTH_ACCESS_TOKEN=xxx...
GATEWAY_OAUTH_REFRESH_TOKEN=refresh_xxx...

# MCP Client Tokens (Generated by just mcp-client-token)
# These are specifically for mcp-streamablehttp-client usage
MCP_CLIENT_ACCESS_TOKEN=xxx...

# MCP Everything configuration
MCP_EVERYTHING_ENABLED=true                    # Enable/disable mcp-everything service
MCP_EVERYTHING_TESTS_ENABLED=false             # Enable/disable mcp-everything tests (set to true to run tests)
MCP_EVERYTHING_URLS=https://everything.yourdomain.com/mcp  # Comma-separated list of MCP Everything URLs

# Test Configuration (REQUIRED!)
TEST_HTTP_TIMEOUT=30.0          # HTTP timeout for tests in seconds
TEST_MAX_RETRIES=3              # Maximum retries for failed requests
TEST_RETRY_DELAY=1.0            # Delay between retries in seconds
TEST_CALLBACK_URL=https://localhost:9999/callback  # OAuth callback URL for tests
TEST_CLIENT_NAME=test-client    # OAuth client name for tests
TEST_CLIENT_SCOPE=mcp:read mcp:write  # OAuth scopes for tests
TEST_REDIRECT_URI=https://localhost:9999/callback  # OAuth redirect URI for tests
TEST_INVALID_REDIRECT_URI=https://evil.com/callback  # Invalid redirect URI for testing

# Health Check Configuration (REQUIRED!)
HEALTH_CHECK_TIMEOUT=30         # Health check timeout in seconds
HEALTH_CHECK_INTERVAL=5         # Health check interval in seconds

# MCP Protocol Configuration (REQUIRED!)
MCP_PROTOCOL_VERSION=2025-06-18
MCP_PROTOCOL_VERSIONS_SUPPORTED=2025-06-18